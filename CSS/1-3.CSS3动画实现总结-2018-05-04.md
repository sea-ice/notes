## transition和animation对比

transition和animation都可以用来定义元素的动画效果。但是它们的特点也决定了他们有各自的应用场景。

transition只能定义元素动画过程的始末状态，然后中间就是通过过渡实现平滑的动画效果，而animation可以通过 @keyframes 关键字来定义动画过程中元素在某个时间点的状态，从而可以实现更加复杂的动画。

transition和animation动画的触发机制也有些类似，都可以通过增加或者删除class，抑或者是通过hover、focus等伪类来改变元素的状态来触发。

需要注意的是，当父元素在子元素动画发生时发生了display从隐藏到显示的过程，如果子元素的动画是通过transition定义的，这时子元素上就不会出现动画效果，而如果子元素的动画是通过animation定义的，则不会出现这样的问题。对于前者出现的问题，可以考虑在切换class之前先将元素的display属性设置为不为none的状态，然后再延时一段时间（确保动画发生时元素是显示状态），再去切换class，从而触发动画平滑过渡。

元素CSS属性的动画效果可能会触发浏览器的回流（这部分属性的变化会引起页面布局的改变，因此开销较大，比如动画过程修改了width、font-size等属性），也可能触发浏览器的重绘操作（不影响页面布局，比如visibility、outline属性等），还有一些就是触发浏览器合成操作（开销最小，比如对transform或者opacity属性进行动画）。由此可见，应该尽可能使用transform的translate变换来代替对元素margin、padding、top、bottom等属性的直接修改，通过transform的scale变换来替代对元素width、height等属性的修改。