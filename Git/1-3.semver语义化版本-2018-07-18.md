## 软件版本控制

软件版本迭代过程中，版本号的修改应当遵循语义化版本（Semantic Versioning）的命名方式。语义化版本格式为：&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;。每个部分都是非负的整数，同时各个部分的含义如下：

&lt;major&gt;：表示主版本号，改了主版本号表示软件整体发生很大的变化，包括但不限于新增特性、删除部分功能等，**一般不兼容上一个主版本**。
&lt;minor&gt;：表示次版本号，当我们进行常规的新增或修改功能时，需要修改次版本号，同时**必须保持向前兼容**，意味着不能删除已有功能。如果需要删除功能，需要渐进地提示用户某功能会在下个主版本中被删除，一般会注明DEPRECATED，然后在下一个主版本中将其删除。
&lt;patch&gt;：表示修订号，当仅仅是修复了一些问题，只需要修改修订号即可。

有几点需要注意：
1、新的项目版本号应该从0.1.0开始；
2、当次版本号递增时，修订号归零；当主版本号递增时，次版本号、修订号均归零；
3、当不小心把不兼容的版本对应的次版本号修改了并且把该版本发布了，应当及时修复该问题保证向下兼容，并且将次版本号递增，而不能去修改已经发行的版本。

### 修改版本号

npm 提供了快速修改软件包版本号的命令，执行以下的命令会依次递增修订号、次版本号、主版本号，同时会自动触发一个git提交。

```bash
npm version patch
npm version minor
npm version major
```

### 预发版本号

预发版本号作为常规版本号的附属，使用预发版本号的目的是为了标识该版本不稳定。预发版本号的一般格式为&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;-&lt;stage&gt;.&lt;num&gt;，其中&lt;stage&gt;一般选用alpha、beta、rc，&lt;num&gt;一般为数字。

### 版本号范围

在npm依赖列表中，通常会使用“^1.2.0”、“~2.2.0”来表示需要安装的npm包合法的版本号范围。当使用 npm update 更新某个npm包版本时，会将该npm包的版本号更新到该版本号范围内的最新版本。

| 含义 | 最简写法 | 使用通配符的写法 |使用模糊符的写法|表达的版本号范围
|:--:|:--:|:--:|:-:|:-:|
| 仅跟进修复版本 | 1.0 | 1.0.x |~1.0.4| >=1.0.4且<1.1.0|
| 跟进每个小版本更新 | 1 | 1.x |^1.0.4| >=1.0.4且<2.0.0|
| 始终升级到最新版 | * | * |*| >=0.0.0|

### 参考资料

1、[论版本号的正确打开方式](https://blog.csdn.net/lihaitao_1/article/details/52189779)