## ES7中的装饰器

ES7中的装饰器本质上来说是一种语法糖，使用@作为标识符，可以用来修饰类，或者作用于类的属性。

使用装饰器需要先定义装饰器，其实就是一个函数，该函数根据修饰对象的不同接收的参数也有所不同。

在修饰类时，装饰器函数只传入一个target参数，当修饰的是类的实例属性和方法，该参数值就是当前被修饰的类对应的原型对象（比如如果修饰的是Animal类，则target的值为Animal.prototype）；如果修饰的类静态属性，则target值为当前修饰的类。

当修饰类属性（包括类的静态属性、类实例上的属性和原型对象上的方法），除了会传入表示当前类的target参数以外，还会传入当前装饰的属性名称name及其属性描述符descriptor。同时装饰器函数根据装饰对象的不同也需要返回不同的值，修饰类的时候返回增强后的target，修饰类属性时返回增强后的descriptor。

```javascript
function log (target, name, descriptor) {
  ...
  return descriptor
}
```

以上就定义了用于修饰类属性的装饰函数。装饰函数是在定义类的时候被调用的，当修饰的是类时，调用之后的返回值会赋值给被修饰的标识符；而当修饰的是类属性时，调用之后返回的新的属性描述符会用来重新定义该属性。