## 开发服务器

webpack-dev-server 可以很方便地在本地启动开发服务器，同时还提供了动态编译、HMR等功能。
webpack-dev-middleware 中间件允许开发者自行封装开发服务器，定制Mock服务。

开发过程中实现页面动态刷新的两种方法：

1. Livereload 其原理是在浏览器和服务器之间创建 WebSocket 连接，当服务器监听到文件改动后对源码进行动态编译，编译完成之后会发送 reload 事件给浏览器，浏览器接收此事件之后会刷新整个页面，从而实现页面的动态刷新。

其致命缺陷是无法保存页面的状态，每次刷新意味着要在页面上重复相同的操作才能看到对应的页面是否如预期发生变化。

2. HMR 也叫热替换。其原理是在构建输出的文件中注入额外的功能模块--HMR Runtime。同时服务器端也注入了对应的服务模块--HMR Server。两者是客户端和服务器端的关系。与 LiveReload 相似，两者也是通过 WebSocket 进行通信。每次构建完成，HMR Server通过 WebSocket 发送 Push 消息告知客户端更新模块，HMR Runtime 随后通过 HTTP 获取待更新模块的内容详情，然后将更新模块进行替换。此过程中浏览器不会进行刷新。

